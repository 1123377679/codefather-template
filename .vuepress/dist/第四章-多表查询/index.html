<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>多表查询 | 李某人的编程宝库</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/favicon.ico">
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?2675818a983a3131404cee835018f016";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="前后端课程资料">
    <meta property="og:site_name" content="李某人的编程宝库">
    <meta property="og:title" content="多表查询">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://codefather.cn/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">
    <meta name="twitter:title" content="多表查询">
    <meta name="twitter:url" content="https://codefather.cn/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="程序员, 编程, 计算机">
    <meta property="article:tag" content="程序员">
    <meta name="keywords" content="李某人, 编程学习路线, 编程知识百科, Java, 编程导航, 前端, 开发, 编程分享, 项目, IT, 求职, 面经">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.40c15e22.css" as="style"><link rel="preload" href="/assets/js/app.bfb9a41f.js" as="script"><link rel="preload" href="/assets/js/2.11372cd1.js" as="script"><link rel="preload" href="/assets/js/73.2828bcaf.js" as="script"><link rel="prefetch" href="/assets/js/1.772e8449.js"><link rel="prefetch" href="/assets/js/10.fc348f1d.js"><link rel="prefetch" href="/assets/js/11.5cb15a10.js"><link rel="prefetch" href="/assets/js/12.0b172212.js"><link rel="prefetch" href="/assets/js/13.db362dd7.js"><link rel="prefetch" href="/assets/js/14.91cf31cd.js"><link rel="prefetch" href="/assets/js/15.97ca09d4.js"><link rel="prefetch" href="/assets/js/16.0a8709a6.js"><link rel="prefetch" href="/assets/js/17.e4c6b844.js"><link rel="prefetch" href="/assets/js/18.d0f0bd51.js"><link rel="prefetch" href="/assets/js/19.5740e4d6.js"><link rel="prefetch" href="/assets/js/20.8885a4fa.js"><link rel="prefetch" href="/assets/js/21.468bfc8f.js"><link rel="prefetch" href="/assets/js/22.3e8347a6.js"><link rel="prefetch" href="/assets/js/23.ceb5a5ff.js"><link rel="prefetch" href="/assets/js/24.a121e824.js"><link rel="prefetch" href="/assets/js/25.15e1f641.js"><link rel="prefetch" href="/assets/js/26.35b2bbdc.js"><link rel="prefetch" href="/assets/js/27.abf3307e.js"><link rel="prefetch" href="/assets/js/28.7e4f3680.js"><link rel="prefetch" href="/assets/js/29.859b5924.js"><link rel="prefetch" href="/assets/js/3.4dc033c7.js"><link rel="prefetch" href="/assets/js/30.a8b8c321.js"><link rel="prefetch" href="/assets/js/31.34407a93.js"><link rel="prefetch" href="/assets/js/32.7b9696aa.js"><link rel="prefetch" href="/assets/js/33.86c359c6.js"><link rel="prefetch" href="/assets/js/34.71e963ef.js"><link rel="prefetch" href="/assets/js/35.99422ea8.js"><link rel="prefetch" href="/assets/js/36.b36ad629.js"><link rel="prefetch" href="/assets/js/37.8088ca20.js"><link rel="prefetch" href="/assets/js/38.ee59d0ef.js"><link rel="prefetch" href="/assets/js/39.e9e0818c.js"><link rel="prefetch" href="/assets/js/4.2f502b73.js"><link rel="prefetch" href="/assets/js/40.2d874ace.js"><link rel="prefetch" href="/assets/js/41.ff2b4925.js"><link rel="prefetch" href="/assets/js/42.56ac03bc.js"><link rel="prefetch" href="/assets/js/43.79ce3f44.js"><link rel="prefetch" href="/assets/js/44.63d3f43f.js"><link rel="prefetch" href="/assets/js/45.82b20480.js"><link rel="prefetch" href="/assets/js/46.3268de07.js"><link rel="prefetch" href="/assets/js/47.3ea663b6.js"><link rel="prefetch" href="/assets/js/48.237aef1d.js"><link rel="prefetch" href="/assets/js/49.359d7204.js"><link rel="prefetch" href="/assets/js/5.7b1f056c.js"><link rel="prefetch" href="/assets/js/50.32c15e42.js"><link rel="prefetch" href="/assets/js/51.514c9ee7.js"><link rel="prefetch" href="/assets/js/52.cdb02c77.js"><link rel="prefetch" href="/assets/js/53.ac097e8b.js"><link rel="prefetch" href="/assets/js/54.ecb4cc22.js"><link rel="prefetch" href="/assets/js/55.2a2a0fa9.js"><link rel="prefetch" href="/assets/js/56.5d97bdac.js"><link rel="prefetch" href="/assets/js/57.460ec670.js"><link rel="prefetch" href="/assets/js/58.4d0ec45b.js"><link rel="prefetch" href="/assets/js/59.f5d05d7b.js"><link rel="prefetch" href="/assets/js/6.056886f1.js"><link rel="prefetch" href="/assets/js/60.7f54cef1.js"><link rel="prefetch" href="/assets/js/61.359b4ac9.js"><link rel="prefetch" href="/assets/js/62.f833bb22.js"><link rel="prefetch" href="/assets/js/63.d1b52891.js"><link rel="prefetch" href="/assets/js/64.d78eda32.js"><link rel="prefetch" href="/assets/js/65.fb383e1b.js"><link rel="prefetch" href="/assets/js/66.69754198.js"><link rel="prefetch" href="/assets/js/67.94dfad4b.js"><link rel="prefetch" href="/assets/js/68.22f255bb.js"><link rel="prefetch" href="/assets/js/69.cbdf2af2.js"><link rel="prefetch" href="/assets/js/7.a96cecf9.js"><link rel="prefetch" href="/assets/js/70.969affec.js"><link rel="prefetch" href="/assets/js/71.267dafdb.js"><link rel="prefetch" href="/assets/js/72.e9e91f67.js"><link rel="prefetch" href="/assets/js/74.aebb67cf.js"><link rel="prefetch" href="/assets/js/75.14f12fdb.js"><link rel="prefetch" href="/assets/js/76.9983b53a.js"><link rel="prefetch" href="/assets/js/77.7504b553.js"><link rel="prefetch" href="/assets/js/78.90a66e5e.js"><link rel="prefetch" href="/assets/js/79.17426337.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.9f962556.js">
    <link rel="stylesheet" href="/assets/css/0.styles.40c15e22.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="李某人的编程宝库" class="logo"> <span class="site-name can-hide">李某人的编程宝库</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Java基础/" class="nav-link">
  Java基础
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/Mysql/Mysql基础/" class="nav-link">
  Mysql基础
</a></div><div class="nav-item"><a href="/Mysql/Mysql进阶/" class="nav-link">
  Mysql进阶
</a></div><div class="nav-item"><a href="/MyBatis/" class="nav-link">
  MyBatis
</a></div> <a href="https://github.com/liyupi/codefather" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Java基础/" class="nav-link">
  Java基础
</a></div><div class="nav-item"><a href="/Linux/" class="nav-link">
  Linux
</a></div><div class="nav-item"><a href="/Mysql/Mysql基础/" class="nav-link">
  Mysql基础
</a></div><div class="nav-item"><a href="/Mysql/Mysql进阶/" class="nav-link">
  Mysql进阶
</a></div><div class="nav-item"><a href="/MyBatis/" class="nav-link">
  MyBatis
</a></div> <a href="https://github.com/liyupi/codefather" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/mysql%E5%9F%BA%E7%A1%80/" class="sidebar-link">Java基础</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>学习路线</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mysql%E7%9A%84%E5%AE%89%E8%A3%85/" class="sidebar-link">Mysql安装</a></li><li><a href="/%E5%88%A0%E9%99%A4mysql/" class="sidebar-link">/%E5%88%A0%E9%99%A4mysql/</a></li><li><a href="/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BE%E8%AE%A1/" class="sidebar-link">数据库设计</a></li><li><a href="/%E7%AC%AC%E4%B8%80%E7%AB%A0-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%A6%82%E8%BF%B0-%E4%B8%8E%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%89%E8%A3%85/" class="sidebar-link">Mysql课程介绍</a></li><li><a href="/%E7%AC%AC%E4%B8%89%E7%AB%A0-mysql%E5%B8%B8%E7%94%A8%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0/" class="sidebar-link">函数</a></li><li><a href="/%E7%AC%AC%E4%BA%8C%E7%AB%A0-%E5%8D%95%E8%A1%A8%E6%9F%A5%E8%AF%A2/" class="sidebar-link">DQL</a></li><li><a href="/%E7%AC%AC%E4%BA%94%E7%AB%A0-dml-tcl-ddl%E4%BB%A5%E5%8F%8A%E5%A4%87%E4%BB%BD%E6%81%A2%E5%A4%8D/" class="sidebar-link">约束(constraint)</a></li><li><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/" aria-current="page" class="active sidebar-link">多表查询</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#数据库设计" class="sidebar-link">数据库设计</a></li><li class="sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表关系" class="sidebar-link">多表关系</a></li><li class="sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询-2" class="sidebar-link">多表查询</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content"><div style="width:100%"><div class="theme-default-content custom-content content__default"><h1 id="多表查询"><a href="#多表查询" class="header-anchor">#</a> 多表查询</h1> <h2 id="数据库设计"><a href="#数据库设计" class="header-anchor">#</a> 数据库设计</h2> <h3 id="软件的研发步骤"><a href="#软件的研发步骤" class="header-anchor">#</a> 软件的研发步骤</h3> <p><img alt="image-20230131182317155" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291710978.png" loading="lazy" class="lazy"></p> <h3 id="数据库设计概念"><a href="#数据库设计概念" class="header-anchor">#</a> 数据库设计概念</h3> <p>数据库设计就是根据业务系统的具体需求，结合我们所选用的DBMS,为这个业务系统构造出最优的数据存储模型。
建立数据库中的表结构以及表与表之间的关联关系的过程。</p> <p>有哪些表？表里有哪些字段？表和表之间有什么关系？</p> <h3 id="数据库设计的步骤"><a href="#数据库设计的步骤" class="header-anchor">#</a> 数据库设计的步骤</h3> <p>需求分析（数据是什么？数据具有哪些属性？数据与属性的特点是什么）</p> <p><img alt="image-20230131182730263" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291712226.png" loading="lazy" class="lazy"></p> <p>逻辑分析（通过ER图对数据库进行逻辑建模，不需要考虑我们所选用的数据库管理系统）
物理设计（根据数据库自身的特点把逻辑设计转换为物理设计）
维护设计(1.对新的需求进行建表；2.表优化)</p> <h2 id="多表关系"><a href="#多表关系" class="header-anchor">#</a> 多表关系</h2> <h3 id="多表查询-多表关系介绍"><a href="#多表查询-多表关系介绍" class="header-anchor">#</a> 多表查询-多表关系介绍</h3> <p>概述：</p> <p>项目开发中，在进行数据库表结构设计时，会根据业务需求及业务模块之间的关系，分析并设计表结构，由于业务之间相互关联，所以各个表结构之间也存在着各种联系，基本上分为三种：</p> <ul><li>一对多(多对一)</li> <li>多对多</li> <li>一对一</li></ul> <h4 id="一对多-多对一"><a href="#一对多-多对一" class="header-anchor">#</a> 一对多(多对一)</h4> <p>案例：部门与员工的关系</p> <p>关系：一个部门对应多个员工，一个员工对应一个部门</p> <p>实现：在多的一方建立外键，指向一的一方的主键</p> <p><img alt="image-20230128134626844" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291718462.png" loading="lazy" class="lazy"></p> <h4 id="多对多"><a href="#多对多" class="header-anchor">#</a> 多对多</h4> <p>案例：学生与课程的关系</p> <p>关系：一个学生可以选修多门课程，一门课也可以供多个学生选择</p> <p>实现：建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</p> <p><img alt="image-20230128134729442" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291718440.png" loading="lazy" class="lazy"></p> <h4 id="一对一"><a href="#一对一" class="header-anchor">#</a> 一对一</h4> <p>案例：用户与用户详情的关系</p> <p>关系：一对一关系，多用于单表拆分，将一张表的基础字段放在一张表中，其他详情字段放在另一张表中，以提升操作效率</p> <p>实现：<strong>在任意一方加入外键，关联另外一方的主键，并且设置外键为唯一的(UNIQUE)</strong></p> <p><img alt="image-20230128135515739" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291718315.png" loading="lazy" class="lazy"></p> <p><img alt="image-20230128135531923" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291718744.png" loading="lazy" class="lazy"></p> <p><img alt="image-20230128135555002" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291718832.png" loading="lazy" class="lazy"></p> <h2 id="多表查询-2"><a href="#多表查询-2" class="header-anchor">#</a> 多表查询</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>-- 创建dept表，并插入数据 
create table dept( 
	id int auto_increment comment 'ID' primary key, 
	name varchar(50) not null comment '部门名称' 
)comment '部门表'; 

INSERT INTO dept (id, name) 
VALUES (1, '研发部'), (2, '市场部'),
(3, '财务部'), (4, '销售部'), 
(5, '总经办'), (6, '人事部');
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>-- 创建emp表，并插入数据 
create table emp( 
	id int auto_increment comment 'ID' primary key,
	name varchar(50) not null comment '姓名', 
	age int comment '年龄', job varchar(20) comment '职位', 
	salary int comment '薪资', 
	entrydate date comment '入职时间', managerid int comment '直属领导ID',
dept_id int comment '部门ID' 
)comment '员工表';

-- 添加外键 
alter table emp add constraint fk_emp_dept_id foreign key (dept_id)
references dept(id);

INSERT INTO emp (id, name, age, job,salary, entrydate, managerid,
dept_id) 
VALUES (1, '金庸', 66, '总裁',20000, '2000-01-01', null,5), 
(2, '张无忌', 20, '项目经理',12500, '2005-12-05', 1,1), 
(3, '杨逍', 33, '开发', 8400,'2000-11-03', 2,1), 
(4, '韦一笑', 48, '开发',11000, '2002-02-05', 2,1), 
(5, '常遇春', 43, '开发',10500, '2004-09-07', 3,1), 
(6, '小昭', 19, '程序员鼓励师',6600, '2004-10-12', 2,1), 
(7, '灭绝', 60, '财务总监',8500, '2002-09-12', 1,3), 
(8, '周芷若', 19, '会计',48000, '2006-06-02', 7,3), 
(9, '丁敏君', 23, '出纳',5250, '2009-05-13', 7,3), 
(10, '赵敏', 20, '市场部总监',12500, '2004-10-12', 1,2), 
(11, '鹿杖客', 56, '职员',3750, '2006-10-03', 10,2), 
(12, '鹤笔翁', 19, '职员',3750, '2007-05-09', 10,2), 
(13, '方东白', 19, '职员',5500, '2009-02-12', 10,2), 
(14, '张三丰', 88, '销售总监',14000, '2004-10-12', 1,4), 
(15, '俞莲舟', 38, '销售',4600, '2004-10-12', 14,4), 
(16, '宋远桥', 40, '销售',4600, '2004-10-12', 14,4), 
(17, '陈友谅', 42, null,2000, '2011-10-12', 1,null);
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="多表查询的概述"><a href="#多表查询的概述" class="header-anchor">#</a> 多表查询的概述</h3> <p>概述：指从多张表中查询数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select * from emp,dept;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>笛卡尔积：笛卡尔乘积是指在数学中，两个集合A集合和B集合的所有组合情况(在多表查询时，需要消除无效的笛卡尔积)</p> <p><img alt="image-20230128142252813" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291923767.png" loading="lazy" class="lazy"></p> <p><img alt="image-20230128142321137" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303291923635.png" loading="lazy" class="lazy"></p> <h3 id="多表查询分类"><a href="#多表查询分类" class="header-anchor">#</a> 多表查询分类</h3> <p>连接查询：</p> <p>​	**内连接：**相当于查询A、B交集部分数据</p> <p>​	<strong>外连接:</strong></p> <p>​		左外连接：查询左表所有数据，以及两张表交集部分数据</p> <p>​		右外连接: 查询右表所有数据，以及两张表交集部分数据</p> <p>​	<strong>自连接：</strong></p> <p>​		当前表与自身的连接查询，自连接必须使用表别名</p> <p><strong>子连接</strong></p> <p><img alt="image-20230128143011963" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303311448486.png" loading="lazy" class="lazy"></p> <h3 id="连接查询-内连接"><a href="#连接查询-内连接" class="header-anchor">#</a> 连接查询-内连接</h3> <p>内连接查询语法：</p> <p>隐式内连接</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span>，表<span class="token number">2</span> <span class="token keyword">where</span> 条件<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>显式内连接</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token punctuation">[</span><span class="token keyword">inner</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 连接条件<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>内连接查询的是两张表交集的部分</strong></p> <p><img alt="image-20230128143648993" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303311448708.png" loading="lazy" class="lazy"></p> <p><strong>内连接演示</strong></p> <p>1.查询每一个员工的姓名，以及相关联的部门(隐式内连接)</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> emp<span class="token punctuation">.</span>name <span class="token punctuation">,</span>dept<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp <span class="token punctuation">,</span>dept <span class="token keyword">where</span> emp<span class="token punctuation">.</span>id <span class="token operator">=</span> dept<span class="token punctuation">.</span>id<span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.查询每一个员工的姓名，及关联的部门的名称(显示内连接)</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span>name <span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> dept d <span class="token keyword">ON</span> e<span class="token punctuation">.</span>id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="连接查询-外连接"><a href="#连接查询-外连接" class="header-anchor">#</a> 连接查询-外连接</h3> <p>外连接查询语法：</p> <p>​	左外连接：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token keyword">left</span> <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 条件<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>相当于查询表1(左表)的所有数据包含表1和表2交集部分的数据</p> <p>​	右外连接：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表<span class="token number">1</span> <span class="token keyword">right</span> <span class="token punctuation">[</span><span class="token keyword">outer</span><span class="token punctuation">]</span> <span class="token keyword">join</span> 表<span class="token number">2</span> <span class="token keyword">on</span> 条件<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>相当于查询表2(右表)的所有数据包含表1和表2交集部分的数据</p> <p><img alt="image-20230128153524958" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303311448676.png" loading="lazy" class="lazy"></p> <p>查询emp表中的所有数据，和相对应的部门信息(左外)</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">left</span> <span class="token keyword">outer</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>查询dept表中的所有数据，和相对应的员工信息(右外)</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp e <span class="token keyword">RIGHT</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="连接查询-自连接"><a href="#连接查询-自连接" class="header-anchor">#</a> 连接查询-自连接</h3> <p>自连接查询语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 字段列表 <span class="token keyword">from</span> 表A 别名A <span class="token keyword">join</span> 表A 别名B <span class="token keyword">on</span> 条件<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>自连接查询，可以是内连接查询，也可以是外连接查询。</p> <p>案例:</p> <p>1.查询员工及其所属领导的名字</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> a<span class="token punctuation">.</span>name<span class="token punctuation">,</span>b<span class="token punctuation">.</span>name <span class="token keyword">from</span> emp a <span class="token punctuation">,</span> emp b <span class="token keyword">where</span> a<span class="token punctuation">.</span>managerid <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2.查询所有员工及其领导的名字，如果员工没有领导，也需要查询出来</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> a<span class="token punctuation">.</span>name <span class="token string">'员工'</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>name <span class="token string">'领导'</span> <span class="token keyword">from</span> emp a <span class="token keyword">left</span> <span class="token keyword">join</span> emp b <span class="token keyword">on</span> a<span class="token punctuation">.</span>managerid <span class="token operator">=</span> b<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>注：在自连接查询中，必须要为表起别名，要不然我们不清楚所指定的条件、返回的字段到底是哪一张表的字段。</p> <h3 id="联合查询-union-union-all"><a href="#联合查询-union-union-all" class="header-anchor">#</a> 联合查询-union,union all</h3> <p>对于union查询，就是把多次查询的结果合并起来，形成一个新的查询结果集</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select 字段列表 from 表a ....
union [all]
select 字段列表 from 表b ....;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致。</p> <p>union all 会将全部的数据直接合并在一起，union会对合并之后的数据去重</p> <p>案例:</p> <p>1.将薪资低于5000的员工，和年龄大于50岁的员工全部查询出来</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&lt;</span><span class="token number">5000</span>
<span class="token keyword">union</span> <span class="token keyword">all</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age<span class="token operator">&gt;</span><span class="token number">50</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&lt;</span><span class="token number">5000</span>
<span class="token keyword">union</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> age<span class="token operator">&gt;</span><span class="token number">50</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h3> <p>概念：SQL语句中嵌套SELECT语句，称为嵌套查询，又称为子查询</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t1 <span class="token keyword">where</span> column1 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> column1 <span class="token keyword">from</span> t2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>子查询外部的语句可以是INSERT/UPDATE/DELETE/SELECT的任何一个</p> <p>根据子查询结果不同，分为:</p> <p>​	标量子查询(子查询结果为单个值);</p> <p>​	列子查询(子查询结果为一列)</p> <p>​	行子查询(子查询结果为一行)</p> <p>​	表子查询(子查询结果为多行多列)</p> <p>根据子查询位置，分为:WHERE之后、FROM之后、SELECT之后。</p> <h4 id="标量子查询"><a href="#标量子查询" class="header-anchor">#</a> 标量子查询</h4> <p>子查询返回的结果是单个值(数字、字符串、日期等)，最简单的形式，这种子查询成为<strong>标量子查询</strong></p> <p>常用的操作符:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> = &lt;&gt; &gt; &gt;= &lt; &lt;=
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>案例:</p> <p>查询销售部的所有员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询销售部的所有员工信息</span>
<span class="token comment">-- 1.先查询销售部的id</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&quot;销售部&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- 根据查询出来的销售部id查询所有的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">&quot;销售部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>查询在&quot;马志&quot;入职之后的员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询在&quot;马志&quot;入职之后的员工信息</span>
<span class="token comment">-- 1.查询马志的入职日期</span>
<span class="token keyword">select</span> entrydate <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;马志&quot;</span> <span class="token punctuation">;</span>
<span class="token comment">-- 2.查询员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token keyword">select</span> entrydate <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;马志&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="列子查询"><a href="#列子查询" class="header-anchor">#</a> 列子查询</h4> <p>子查询返回的结果是一列(可以是多行),这种子查询称为列子查询</p> <p>常用的操作符:IN、NOT IN 、ANY、SOME、ALL</p> <p><img alt="image-20230128164418604" data-src="https://gitee.com/try-to-be-better/cloud-images/raw/master/img/202303311448471.png" loading="lazy" class="lazy"></p> <p>案例：</p> <p>1.查询销售部和市场部的所有员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1.查询销售部和市场部的所有员工信息</span>
<span class="token comment">-- a.查询销售部和市场部的id</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;销售部&quot;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&quot;市场部&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- b.通过查询出来的id查询相对应的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;销售部&quot;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&quot;市场部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>2.查询比财务部所有人工资都高的员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询比财务部所有人工资都高的员工信息</span>
<span class="token comment">--  1.查询财务部的id</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;财务部&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- 2.查询财务部id的所有员工薪资</span>
<span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;财务部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token comment">-- 3.查询财务部比所有人都高的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">all</span><span class="token punctuation">(</span><span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;财务部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>3.查询比研发部其中任意一人工资高的员工信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 3.查询比研发部其中任意一人工资高的员工信息</span>
<span class="token comment">-- a.查询研发部的id</span>
<span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;研发部&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- b.根据研发部的id查询所有研发部的员工薪资</span>
<span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;研发部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- c.查询比研发部任意一个工资高的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> salary <span class="token operator">&gt;</span> <span class="token keyword">any</span><span class="token punctuation">(</span><span class="token keyword">select</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> dept_id <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">select</span> id <span class="token keyword">from</span> dept <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;研发部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="行子查询"><a href="#行子查询" class="header-anchor">#</a> 行子查询</h4> <p>子查询返回的结果是一行(可以是多列)，这种子查询称为行子查询</p> <p>常用的操作符：=、&lt;&gt;、IN、NOT IN</p> <p>案例:</p> <p>1.查询与&quot;叶鸿&quot;的薪资及直属领导相同的员工信息</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token operator">--</span> 行子查询
<span class="token operator">--</span> <span class="token number">1.</span>查询与<span class="token string">&quot;叶鸿&quot;</span>的薪资及直属领导相同的员工信息
<span class="token operator">--</span> a<span class="token punctuation">.</span>查询<span class="token string">&quot;叶鸿&quot;</span>的薪资及直属领导
select salary<span class="token punctuation">,</span>managerid from emp where name  <span class="token operator">=</span> <span class="token char">'叶鸿'</span><span class="token punctuation">;</span>
<span class="token operator">--</span> b<span class="token punctuation">.</span>查询与<span class="token string">&quot;叶鸿&quot;</span>的薪资及直属领导相同的员工信息
select <span class="token operator">*</span> from emp where <span class="token punctuation">(</span>salary<span class="token punctuation">,</span>managerid<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token punctuation">(</span>select salary<span class="token punctuation">,</span>managerid from emp where name  <span class="token operator">=</span> <span class="token char">'叶鸿'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="表子查询"><a href="#表子查询" class="header-anchor">#</a> 表子查询</h4> <p>子查询返回的结果是多行多列，这种子查询称为表子查询</p> <p>常用的操作符:IN</p> <p>案例：</p> <p>1.查询与&quot;李某人&quot;，&quot;永航&quot;的职位和薪资相同的员工</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1.查询与&quot;李某人&quot;，&quot;永航&quot;的职位和薪资相同的员工</span>
<span class="token comment">-- a.查询李某人,永航的职位和薪资</span>
<span class="token keyword">select</span> job <span class="token punctuation">,</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;李某人&quot;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&quot;永航&quot;</span><span class="token punctuation">;</span>
<span class="token comment">-- b.查询与李某人,永航的职位和薪资相同的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> <span class="token punctuation">(</span>job<span class="token punctuation">,</span>salary<span class="token punctuation">)</span> <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token keyword">select</span> job <span class="token punctuation">,</span> salary <span class="token keyword">from</span> emp <span class="token keyword">where</span> name <span class="token operator">=</span> <span class="token string">&quot;李某人&quot;</span> <span class="token operator">or</span> name <span class="token operator">=</span> <span class="token string">&quot;永航&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>2.查询入职时间是&quot;2006-01-01&quot;之后的员工信息，及其部门信息</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 2.查询入职时间是&quot;2006-01-01&quot;之后的员工信息，及其部门信息</span>
<span class="token comment">-- a.查询入职时间在2006-01-01之后的员工信息</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token string">'2006-1-1'</span><span class="token punctuation">;</span>
<span class="token comment">-- 查询这部分员工对应的部门信息</span>
<span class="token keyword">select</span> e<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token punctuation">,</span> d<span class="token punctuation">.</span>name <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> entrydate <span class="token operator">&gt;</span> <span class="token string">'2006-1-1'</span><span class="token punctuation">)</span> e <span class="token keyword">left</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>dept_id <span class="token operator">=</span> d<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="多表查询案例"><a href="#多表查询案例" class="header-anchor">#</a> 多表查询案例</h3> <p>1.查询员工的姓名、年龄、职位、部门信息。(隐式内连接)
2.查询年龄小于30岁的员工姓名、年龄、职位、部门信息。(显式内连接)
3.查询拥有员工的部门ID、部门名称。(隐式内连接)
4.查询所有年龄大于40岁的员工，及其归属的部门名称；如果员工没有分配部门，也需要展示出来。（外连接）
5.查询所有员工的工资等级。
6.查询&quot;研发部”所有员工的信息及工资等级。
7.查询&quot;研发部”员工的平均工资。
8.查询工资比&quot;陈俊然&quot;高的员工信息。
9.查询比平均薪资高的员工信息。
10.查询低于本部门平均工资的员工信息。
11.查询所有的部门信息，并统计部门的员工人数。</p></div> <footer class="page-edit" style="margin:0;"><div class="edit-link"><a href="https://github.com/liyupi/codefather/edit/master/Mysql/Mysql基础/第四章 多表查询.md" target="_blank" rel="noopener noreferrer">完善页面</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <!----></div> <div class="toc-container-sidebar"><div class="pos-box"><div class="icon-arrow"></div> <div class="scroll-box" style="max-height:86vh"><div style="font-weight:bold;">多表查询</div> <hr> <div class="toc-box"><ul class="toc-sidebar-links"><li><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#数据库设计" class="toc-sidebar-link">数据库设计</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#软件的研发步骤" class="toc-sidebar-link">软件的研发步骤</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#数据库设计概念" class="toc-sidebar-link">数据库设计概念</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#数据库设计的步骤" class="toc-sidebar-link">数据库设计的步骤</a></li></ul></li><li><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表关系" class="toc-sidebar-link">多表关系</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询-多表关系介绍" class="toc-sidebar-link">多表查询-多表关系介绍</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#一对多-多对一" class="toc-sidebar-link">一对多(多对一)</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多对多" class="toc-sidebar-link">多对多</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#一对一" class="toc-sidebar-link">一对一</a></li></ul></li><li><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询-2" class="toc-sidebar-link">多表查询</a><ul class="toc-sidebar-sub-headers"><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询的概述" class="toc-sidebar-link">多表查询的概述</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询分类" class="toc-sidebar-link">多表查询分类</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#连接查询-内连接" class="toc-sidebar-link">连接查询-内连接</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#连接查询-外连接" class="toc-sidebar-link">连接查询-外连接</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#连接查询-自连接" class="toc-sidebar-link">连接查询-自连接</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#联合查询-union-union-all" class="toc-sidebar-link">联合查询-union,union all</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#子查询" class="toc-sidebar-link">子查询</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#标量子查询" class="toc-sidebar-link">标量子查询</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#列子查询" class="toc-sidebar-link">列子查询</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#行子查询" class="toc-sidebar-link">行子查询</a></li><li class="toc-sidebar-sub-header toc-sidebar-depth-4"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#表子查询" class="toc-sidebar-link">表子查询</a></li><li class="toc-sidebar-sub-header"><a href="/%E7%AC%AC%E5%9B%9B%E7%AB%A0-%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/#多表查询案例" class="toc-sidebar-link">多表查询案例</a></li></ul></li></ul></div></div></div></div></div>  <main class="footer"> <div class="copy-right"><span class="name"> 失败才是人生的主旋律   |     </span> <a target="_blank" rel="noreferrer">
          
        </a></div></main></main> <aside class="page-sidebar"> <div class="page-side-toolbar"></div>  </aside></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bfb9a41f.js" defer></script><script src="/assets/js/2.11372cd1.js" defer></script><script src="/assets/js/73.2828bcaf.js" defer></script>
  </body>
</html>
