(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{373:function(a,t,s){"use strict";s.r(t);var e=s(4),r=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[a._v("#")]),a._v(" 索引")]),a._v(" "),t("h2",{attrs:{id:"索引概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引概述"}},[a._v("#")]),a._v(" 索引概述")]),a._v(" "),t("p",[a._v("索引（index)是帮助MySQL高效获取数据的数据结构（有序）。在数据之外，数据库系统还维护着满足特定查找算法的数据结构，这些数据结构以某种方式引用（指向）数据，这样就可以在这些数据结构上实现高级查找算法，这种数据结构就是索引。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230130181905746","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230130181905746.png",loading:"lazy"}})]),a._v(" "),t("p",[t("strong",[a._v("优缺点")])]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230130193901407","data-src":"E:%5Cmd%E5%9B%BE%E7%89%87%5Cimage-20230130193901407.png",loading:"lazy"}})]),a._v(" "),t("h2",{attrs:{id:"索引结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引结构"}},[a._v("#")]),a._v(" 索引结构")]),a._v(" "),t("p",[a._v("MySQL的索引是在存储引擎层实现的，不同的存储引擎有不同的结构，主要包含以下几种：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131142528903","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131142528903.png",loading:"lazy"}})]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131142630145","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131142630145.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("我们平常所说的索引，如果没有特别指明，都默认B+tree")]),a._v(" "),t("h3",{attrs:{id:"二叉树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二叉树"}},[a._v("#")]),a._v(" "),t("strong",[a._v("二叉树")])]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131142751966","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131142751966.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("二叉树缺点：顺序插入时，会形成一个链表，查询性能大大降低。大数据量情况下，层级较深，检索速度慢。\n红黑树：大数据量情况下，层级较深，检索速度慢。")]),a._v(" "),t("h3",{attrs:{id:"b-tree-多路平衡查找树"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-tree-多路平衡查找树"}},[a._v("#")]),a._v(" "),t("strong",[a._v("B-Tree(多路平衡查找树)")])]),a._v(" "),t("p",[a._v("以一颗最大度数(max-degree)为5(5阶)的b-tree为例每个节点最多存储4个key,5个指针)：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131143115868","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131143115868.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("树的度数指的是一个节点的子节点个数")]),a._v(" "),t("h3",{attrs:{id:"b-tree"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#b-tree"}},[a._v("#")]),a._v(" B+Tree")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131144507264","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131144507264.png",loading:"lazy"}})]),a._v(" "),t("p",[t("strong",[a._v("Mysql中的B+Tree")])]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131144610434","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131144610434.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"hash"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#hash"}},[a._v("#")]),a._v(" Hash")]),a._v(" "),t("p",[a._v("哈希索引就是采用一定的hash算法，将键值换算成新的hash值，映射到对应的槽位上，然后存储在hash表中。")]),a._v(" "),t("p",[a._v("如果两个（或多个）键值，映射到一个相同的槽位上，他们就产生了hash冲突(也称为hash碰撞)，可以通过链表来解决。")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131144837719","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131144837719.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("Hash索引的特点")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131145140474","data-src":"E:%5Cmd%E5%9B%BE%E7%89%87%5Cimage-20230131145140474.png",loading:"lazy"}})]),a._v(" "),t("h2",{attrs:{id:"索引分类"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引分类"}},[a._v("#")]),a._v(" 索引分类")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131150408764","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131150408764.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("在InnoDB存储引擎中，根据索引的存储形式，又可以分为以下两种：")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131150751127","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131150751127.png",loading:"lazy"}})]),a._v(" "),t("p",[a._v("聚集索引选取规则：\n如果存在主键，主键索引就是聚集索引。")]),a._v(" "),t("p",[a._v("如果不存在主键，将使用第一个唯一(UNIQUE)索引作为聚集索引。")]),a._v(" "),t("p",[a._v("如果表没有主键，或没有合适的唯一索引，则InnoDB会自动生成一个rowid作为隐藏的聚集索引。")]),a._v(" "),t("h2",{attrs:{id:"索引语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引语法"}},[a._v("#")]),a._v(" 索引语法")]),a._v(" "),t("h3",{attrs:{id:"创建索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[a._v("#")]),a._v(" 创建索引")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131151434082","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131151434082.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"查看索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看索引"}},[a._v("#")]),a._v(" 查看索引")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131151438631","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131151438631.png",loading:"lazy"}})]),a._v(" "),t("h3",{attrs:{id:"删除索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[a._v("#")]),a._v(" 删除索引")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131151442651","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131151442651.png",loading:"lazy"}})]),a._v(" "),t("h2",{attrs:{id:"索引的使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引的使用"}},[a._v("#")]),a._v(" 索引的使用")]),a._v(" "),t("p",[a._v("最左前缀法则")]),a._v(" "),t("p",[a._v("如果索引了多列（联合索引），要遵守最左前缀法则。最左前缀法则指的是查询从索引的最左列开始，并且不跳过索引中的列。")]),a._v(" "),t("p",[a._v("如果跳跃某一列，索引将部分失效（后面的字段索引失效）")]),a._v(" "),t("p",[t("img",{staticClass:"lazy",attrs:{alt:"image-20230131170411128","data-src":"https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20230131170411128.png",loading:"lazy"}})])])}),[],!1,null,null,null);t.default=r.exports}}]);