# 算法

## 优先队列

### 优先队列的使用

优先队列，也称为堆，是一种特殊的队列数据结构，能够始终保持队列中的元素有序。其底层实现通常为一颗完全二叉树。根据排序规则的不同，优先队列分为两种类型：

- 小根堆：堆顶元素为队列中的最小值，出队时元素按升序排列
- 大根堆：堆顶元素为队列中的最大值，出队时，元素按降序排列

![image-20241130094235687](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20241130094235687.png)

### 优先队列定义方式如下:

```java
Queue<Integer> q = new PriorityQueue<>();
Queue<Integer> q = new PriorityQueue<>((x,y)->y-x);
```

常见操作:

![image-20241130094351132](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20241130094351132.png)

### 遍历优先队列

```java
Queue<Integer> q = new PriorityQueue<>();
while(!q.isEmpty()){
    out.println(q.poll());
}
```

时间复杂度为O(n log n)

### 例题:堆排序

https://www.lanqiao.cn/problems/4333/learning/?page=1&first_category_id=1&name=%E5%A0%86%E6%8E%92%E5%BA%8F

```java
import java.util.PriorityQueue;
import java.util.Queue;
import java.util.Scanner;

/**
 * @ Author: 李某人
 * @ Date: 2024/11/30/9:48
 * @ Description: https://www.lanqiao.cn/problems/4333/learning/?page=1&first_category_id=1&name=%E5%A0%86%E6%8E%92%E5%BA%8F
 */
public class Main {

    static Queue<Integer> queue = new PriorityQueue<>();
    public static void main(String[] args) {
        /**
         * push：将一个正整数 x 插入堆中。
         * remove：删除堆顶元素。若此时堆为空，则输出 empty。
         * min：输出堆中最小的元素。若此时堆为空，则输出 empty。
         * print：给定一个小于等于当前堆中元素的数字 k，你需要在一行内输出当前堆中最小的 k 个元素，并将其全部删除，数据保证该操作不会在堆为空时出现。
         */
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();//第一行
        for (int i = 0; i < n; i++) {
            String s = sc.next();
            if (s.equals("push")){
                int x = sc.nextInt();
                push(x);
            }else if (s.equals("remove")){
                remove();
            }else if (s.equals("min")){
                min();
            }else if (s.equals("print")){
                int k = sc.nextInt();
                print(k);
            }
        }

    }
    public static void push(int x){
        queue.offer(x);
    }
    public static void remove(){
        if (queue.isEmpty()) {
            System.out.println("empty");
        }else {
            queue.poll();
        }
    }
    public static void min(){
        if (queue.isEmpty()) {
            System.out.println("empty");
        }else {
            System.out.println(queue.peek());
        }
    }
    //print：给定一个小于等于当前堆中元素的数字 k，你需要在一行内输出当前堆中最小的 k 个元素，并将其全部删除，数据保证该操作不会在堆为空时出现。
    public static void print(int k){
        for (int i= 1 ; i<=k; i++){
            System.out.println(queue.poll());
        }
        System.out.println();
    }
}

```























