# 计算机系统结构

## 第一章 概论

### 计算机系统的层次结构

从使用语言的角度，一台由软、硬件组成的通用计算机系统可以被看成是按功能划分的多层机器及组成的层次结构

![image-20250319111643411](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20250319111643411.png)

**关键知识点**

1.应用语言虚拟机器M5是为满足专门的应用设计的

2.操作系统程序虽然已经发展成用高级语言编写，但最终还是要用机器语言程序或微指令程序来解释。

3.操作系统机器级M2放在传统机器语言机器级M1和汇编语言机器级M3之间是适宜的。

4.目前的技术发展情况，M0用硬件实现，M1用微程序(固件)实现，M2到M5大多是用软件实现

5.以软件为主实现的机器称为虚拟机器，但虚拟机器不一定全由软件实现，有些操作也可以用固件或硬件实现

### 计算机系统结构的定义和内涵

1.系统结构：从计算机的层次结构角度来看，系统结构是对计算机系统中各级界面的定义及其上下各级的功能分配。每级都有其自己的系统结构

2.计算机系统结构：也称计算机系统的体系结构，是系统结构中的一部分，指的是传统机器语言级的系统结构，即M1/L1级，是软件和硬件/固件的交界面

3.计算机系统结构研究的是软、硬件之间的功能分配以及对传统机器级界面的确定

4.计算机实现：指的是计算机组成的物理实现

5.计算机实现包括：

- 处理机、主存等部件的物理结构
- 器件的集成度和速度
- 器件、模块、插件、底板的划分与连接
- 专用器件的设计
- 微组装技术
- 信号传输
- 电源、冷却及整机装配技术

### 计算机系统结构、组成和实现的相互和影响

1.计算机系统结构、组成和实现，三者互不相同，但又相互影响

2.相同结构的计算机：可以因速度不同而采用不同的组成

3.一种组成可以有多种不同的实现方式

4.组成也会影响结构。如通过改变控制存储器中的微程序，就可以改变系统的机器指令，从而改变结构

5.组成设计向上决定于结构，向下受限于实现技术

### 计算机系统的软、硬件取舍及定量设计原理

#### 软、硬件取舍的基本原则

原则1：在现有硬件、器件条件下，系统要有高的性能价格比，主要从实现费用、速度和其他性能要求来综合考虑

原则2：要考虑到准备采用和可能采用的组成技术，使之尽可能不要过多或不合理地限制各种组成、实现技术的采用

原则3：不能仅从硬的角度考虑如何便于应用组成技术的成果和便于发挥器件技术的发展，还应从软的角度把如何为编译和操作系统的视线以及为高级语言程序的设计提供更多、更好的硬件支持放在首位

### 计算机系统的定量设计原理

1、哈夫曼压缩原理

2、Amdahl定律（阿姆达定律）

3、程序访问的局部性定律：程序访问的局部性包括时间和空间两个局部性

### 计算机系统设计的主要任务和方法

计算机系统设计的主要任务：

- 计算机系统额机构设计
- 计算机组成设计
- 计算机实现设计

计算机系统设计的主要方法：

- 由上往下设计，也称为由顶向底，先考虑具体的应用场景和应用要求
- 由下往上设计，也称为由底向顶设计，先研制后应用
- “从中间开始”向两边设计。选择从层次结构的主要软、硬界面开始设计，即在传统机器语言
  机器级与操作系统机器级之间进行合理的软、硬件功能分配。

### 软件、应用、器件的发展对系统结构的影响

#### 软件的发展对系统结构的影响

1.在进行系统结构设计时，目前的关键问题是解决好软件的可移植问题

2.软件的可移植性：是指软件不修改或只经少量修改就可由一台机器移到另一台机器上运行

3.实现软件移植的技术主要有：

- 统一高级语言
- 采用系列机
- 模拟
- 仿真

#### 应用的发展对系统结构的影响

1.从用户角度看，总希望机器的应用范围越宽越好，功能越多越好

2.从系统结构的观点看，各档计算机性能随时间的推移，其实就是在低档机上引用甚至照搬高档机的结构和组成

3.计算机的应用可归纳为向上升级的4类：

- 数据处理
- 信息处理
- 知识处理
- 智能处理

## 第二章 数据表示、寻址方式、指令系统

1.数据表示指的是能由计算机硬件识别和引用的数据类型，表现在它有对这种类型的数据进行操作的指令和运算部件。

2.串、队、栈、向量、阵列、链表、树、图等是软件要处理的各种数据结构，它们反映了应用中药用到的各种数据元素或信息单元之间的结构关系。

3.数据结构要通过软件映像、变换成计算机中所具有的数据表示来实现

4.早期的计算机只有定点数表示，要想用浮点数就得用两个定点数来分别表示其阶码和尾数

5.变址操作，为向量、陈列数据结构的视线提供饿了直接支持

6.计算机的运算类指令和运算器结构主要是按计算机有什么样的数据表示来确定的

![image-20250320104848988](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20250320104848988.png)

（一）自定义数据表示(1/3)

自定义数据表示包括标志符数据表示和数据描述符两类

1.**标志符数据表示**

（1）目的：解决差异化，高级语言由运算符实现，机器语言不同的数据类型采用不同的指令完成。

（2）为缩短高级语言与机器语言的这种语义差距，让计算机中每个数据都带类型标志位，即：数据（字）= 类型标志+数据值

（3）优点：

- 简化了指令系统和程序设计
- 简化了编译程序
- 便于实现一致性检验
- 能由硬件自动变换数据类型
- 支持数据库系统的实现与数据类型无关的要求，程序不用修改即可处理多种类型的数据
- 为软件调试和应用软件开发提供了支持

（4）缺点：

- 每个数据字因增设标志符，会增加程序所占的主存空间
- 采用标志符会降低指令的执行速度

2.**数据描述符**

为进一步减少标志符所占的存储空间，对向量、数组、记录等数据，由于元素属性相同，因此发展处数据描述符

数据描述符和标志符的差别在于标志符和每个数据相连，合存在一个存储单元中，描述单个数据和类型特征；数据描述符则是与数据分开存放，用于描述所要访问的数据是整块的还是单个的，访问该数据块或数据元素所要的地址及其其他信息等

（二）向量、数组数据表示

1.为向量、数组结构的实现和快速运算提供更好的硬件支持的方法是增设向量、数组数据表示形成向量机

2.有向量数据表示的处理机就是向量处理机，如向量流水机、陈列机、相联处理机等

3.在有向量、数组数据表示的向量处理机上，硬件上设置有丰富的向量和陈列运算指令，配有流水或陈列方式处理的高速运算器，如循环：

![image-20250320161126395](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20250320161126395.png)

（三）堆栈数据表示

1、堆栈数据结构在编译和子程序调用中很有用，为高效实现，不少计算机都设有堆栈数据表示。

2、有堆栈数据表示的计算机称为堆栈计算机

3、堆栈计算机表现于：

（1）由高速寄存器组成的硬件堆栈，并附加控制电路，让它与主存中的堆栈区在逻辑上构成整体，使堆栈的访问速度是寄存器的，容量是主存的

（2）有丰富的堆栈操作指令且功能很强，可直接对堆栈中的数据进行各种运算和处理

（3）有力地支持了高级语言程序的编译

（4）有力地支持了子程序的嵌套和递归调用

**三.引入数据表示的原则**

原则1：看系统的效率是否有显著提高，包括实现时间和存储空间是否有显著减少。实现时间是否减少又主要看在主存和处理机之间传送的信息量是否减少。传送的信息量越少，实现时间就越少。

原则2：看引入这种数据表示后，其通用性和利用率是否提高。如果只对某种数据结构的实现效率很高，而对其他数据结构的实现效率很低，或者引入这种数据表示在应用中很少用到，那么为此所耗费的硬件过多却并未在性能上得到好处，必然导致性能价格比的下降，特别是一些复杂的数据表示。

四、浮点数尾数基值大小和下溢处理方法的选择

（一）浮点数尾数基值的选择(1/6)

![image-20250320171511987](https://gitee.com/try-to-be-better/cloud-images/raw/master/img/image-20250320171511987.png)

### 题目：

1.计算机系统的体系结构只是系统结构中的一部分，指的是（）的系统结构

解析

计算机系统结构也称计算机系统的体系结构，它只是系统结构中的一部分，指的是传统机器语言机器级的系统结构。

2.下列计算机系统结构的属性不包括（）。

解析

就目前的通用机来说，计算机系统结构的属性包括：①硬件能直接识别和处理的数据类型及格式等的数据表示。②最小可寻址单位、寻址种类、地址计算等的寻址方式。③通用/专用寄存器的设置、数量、字长、使用约定等的寄存器组织。④二进制或汇编指令的操作类型、格式、排序方式、控制机构等的指令系统。⑤主存的最小编址单位、编址方式、容量、最大可编址空间等的存储系统组织。⑥中断的分类与分级、中断处理程序功能及入口地址等的中断机构。⑦系统机器级的管态和用户态的定义与切换。⑧输入/输出设备的连接、使用方式、流量、操作结束、出错指示等的机器级I/O结构。⑨系统各部分的信息保护方式和保护机构等属性。

3.下列不属于计算机组成范畴的是（）。

解析

计算机组成着眼于机器级内部各事件的排序方式与控制机构、各部件的功能及各部件间的联系。计算机组成设计要确定的方面一般应包括：（1）数据通路宽度（2）专用部件的设置（3）各种操作对部件的共享程度（4）功能部件的并行度（5）控制机构的组成方式（6）缓冲和排队技术（7）预估、预判技术（9）可靠性技术。

4.计算机实现指的是计算机组成的（）。**物理实现**

解析

计算机实现指的是计算机组成的物理实现，包括处理机、主存等部件的物理结构，器件的集成度和速度，器件、模块、插件、底板的划分与连接，专用器件的设计，微组装技术，信号传输，电源、冷却及整机装配技术等。

5.下列属于计算机系统结构应该考虑的内容是是（）。**主存容量和编址地址**

解析

主存容量与编址方式（按位、按字节，还是按字访问等）的确定属于计算机系统结构。

6.下列不属于计算机实现的是（）。**逻辑结构**

解析

主存器件的选定、逻辑设计、微组装技术的使用属于计算机实现。

7.在设计计算机系统时，下列不属于一般应遵循的定量设计原理的是（）。**程序访问的全局定律**

解析

在设计计算机系统时，一般应遵循的定量设计原理主要有：（一）哈夫曼压缩原理（二）Amdahl定律（三）程序访问的局部性定律。

8.用于一种环境要求比较稳定的专用机的设计方法是（）。**从下往上设计**

解析

“由上往下”设计（也称“由顶向底”设计），它是先考虑如何满足应用要求，定好面向应用的那个虚拟机器级的特性和工作环境，如要用到的基本命令、指令、语句结构、数据类型、数据格式等，再逐级地向下设计，每设计下一级都考虑对上一级是优化的。这样设计出来的计算机系统对面向的应用必然是高效的。这是一种环境要求比较稳定的专用机的设计方法，无法用于通用机的设计。“由上往下”设计是一种串行设计方法，设计周期较长。

9.下列不属于计算机设计步骤的是（）。**详细设计说明书**

解析

计算机设计的步骤：首先进行需求分析，其次根据需求分析相应地写出需求分析说明书，然后进行概念设计，最后通过模拟、测试，反复对所设计的系统进行优化和性能评价，使系统获得尽可能高的性能价格比。

10.以下不属于实现软件移植的技术的是（）。**统一汇编语言**

解析

实现软件移植的技术主要有：（一）统一高级语言（二）采用系列机（三）模拟和仿真

11.以下不属于从计算机系统中处理数据的角度分析并行性等级的是（）。**半并行**

解析

从计算机系统中处理数据的角度来看，并行性等级从低到高可以分为四级。分别是：①位串字串——同时只对一个字的一位进行处理，这通常是指传统的串行单处理机，没有并行性。②位并字串——同时对一个字的全部位进行处理，这通常是指传统的并行单处理机，开始出现并行性。③位片串字并——同时对许多字的同一位（称位片）进行处理，开始进入并行处理领域。④全并行——同时对许多字的全部或部分位组进行处理。

12.以下不属于从计算机信息加工的各个步骤和阶段的角度分析并行性等级的是（）。**寄存器操作并行**

解析

并行性是贯穿于计算机信息加工的各个步骤和阶段的，从这个角度来看，并行性等级又分为：①存储器操作并行——可用单体单字、多体单字或多体多字方式在一个存储周期内访问多个字，进而采用按内容访问方式在一个存储周期内用位片串字并或全并行方式实现对存储器中大量字的高速并行比较、检索、更新、变换等操作。②处理器操作步骤并行——指令的取指、分析、执行，浮点加法的求阶差、对阶、尾加、舍入、规格化等操作，执行步骤在时间上重叠流水地进行。③处理器操作并行——通过重复设置大量处理单元，让它们在同一控制器控制下按同一指令要求对向量、数组中各元素同时操作。④指令、任务、作业并行——这是较高级的并行。虽然它也可以包含操作、操作步骤等较低级的并行，但与操作级并行不同。指令级以上的并行是多个处理机同时对多条指令和相关的多数据组进行处理，操作级并行是对同一条指令及其相关的数据组进行处理。前者属于多指令流多数据流计算机，后者属于单指令流多数据流计算机。

13.计算机系统结构中的SISD是指()。**单指令流单数据流**

解析

弗林分类法把计算机系统分成单指令流单数据流（SISD）、单指令流多数据流（SIMD）、多指令流单数据流（MISD）和多指令流多数据流（MIMD）四大类。

14.自定义数据表示包括数据描述符和（）。**标志符数据表示**

解析

自定义数据表示包括标志符数据表示和数据描述符两类。

























































































































































































